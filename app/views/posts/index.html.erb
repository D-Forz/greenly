<%= content_for(:title, 'Comunidad | Greenly') %>

<div class="container">
  <main>
    <div class="row">
      <div class="col-md-3">
        <%= render 'shared/sidebar' %>
      </div>
      <div class="col-md-6">

        <%= render "shared/empty_state" if @posts.empty? %>

        <%= turbo_frame_tag "posts-#{@pagy.page}", class: "posts" do %>
          <%= render @posts %>
          <% if @pagy.next %>
            <%= turbo_frame_tag "posts-#{@pagy.next}", loading: :lazy, class: "posts",
            src: pagy_url_for(@pagy, @pagy.next) %>
          <% end %>
        <% end %>
      </div>
      <div class="col-md-3">
        <%= render 'shared/right_side' %>
      </div>
    </div>
  </main>
</div>
